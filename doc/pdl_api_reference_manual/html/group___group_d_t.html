<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Cypress Peripheral Driver Library: Dual Timer (DT)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cypress_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress Peripheral Driver Library
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="modules.html"><span>Drivers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___group_d_t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a>  </div>
  <div class="headertitle">
<div class="title">Dual Timer (DT)</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>The Dual Timer implements two programmable 32-/16-bit Down Counters, called timer channels. </p>
<p>You can use a counter in one of three timer modes:<br />
 − Free-running mode. The counter operates continuously and wraps around to its maximum value each time that it reaches zero.<br />
 − Periodic mode. The counter is reloaded and operates continuously each time that it reaches zero.<br />
 − One-shot mode. The counter stops when it reaches zero.<br />
 You can write a count value to a timer. If the timer is running, the counter restarts immediately using the new value. When running in periodic mode, you can also write a count value to a buffer (background). When the timer reaches zero, it uses this background value as the new count value.<br />
 The counters have a common timer clock (TIMCLK). The source for TIMCLK is the APB bus clock (PCLK). Each counter also has a prescaler that can divide TIMCLK by 1, 16, or 256, so you can control the count rate of each independently.<br />
 To calculate the timer frequency, use the formula: Timer_Frequency = Clock_Frequency / Count_Value <br />
 Where Clock_Frequency is the divided clock frequency, and Count_Value is the initial value of the counter. For example, if the divided clock frequency is 40 MHz, and the counter is set to 1,000,000, then the timer frequency will be 40 Hz. <br />
</p>
<h1><a class="anchor" id="SectionDT_ConfigurationConsideration"></a>
Configuration Consideration</h1>
<p>To set up DT, you provide configuration parameters in the <a class="el" href="structstc__dt__channel__config__t.html" title="Dt channel configuration. ">stc_dt_channel_config_t</a> structure. Then call <a class="el" href="group___group_d_t___functions.html#gadfc4f12226731e32eb4ce2c5fa1fa200" title="Initialize DT. ">Dt_Init()</a>, where the second parameter is the number of channel you use. Use <a class="el" href="group___group_d_t___functions.html#gaf3b48739ea9830e8c2573279cc95405e" title="Enable Timer Counter. ">Dt_EnableCount()</a> to start the counter, and <a class="el" href="group___group_d_t___functions.html#gae591305e28475967495c784a79a7b62f" title="Disable Timer Counter. ">Dt_DisableCount()</a> to stop it.<br />
 Call <a class="el" href="group___group_d_t___functions.html#ga8377e124257f8a80a11ccdbf9972624f" title="Write load value The Function writes the load value to load register. ">Dt_WriteLoadVal()</a> to set a new count value immediately. Use <a class="el" href="group___group_d_t___functions.html#ga2c62edff2823fb456fb62d915a5178f0" title="Write back-ground load value The Function writes the load value to back-ground load register...">Dt_WriteBgLoadVal()</a> to load the background value for the next counting period. This works only in periodic mode. It has no effect on free-running or one-shot mode.<br />
 Use <a class="el" href="group___group_d_t___functions.html#gacf96a53a3c26dcc192414ba967f69231" title="Read current count value The Function reads the value from value register. ">Dt_ReadCurCntVal()</a> to get the current counter value.<br />
</p>
<dl class="section note"><dt>Note</dt><dd>Before calling <a class="el" href="group___group_d_t___functions.html#ga3f1d660a14e56683376217ceb771e452" title="De-Initialize DT. ">Dt_DeInit()</a>, you should disable all channels via <a class="el" href="group___group_d_t___functions.html#gae591305e28475967495c784a79a7b62f" title="Disable Timer Counter. ">Dt_DisableCount()</a> and <a class="el" href="group___group_d_t___functions.html#ga9f8f58cef0d377b5af4d203f3d835756" title="Disable Interrupt. ">Dt_DisableIrq()</a>, to avoid a possible, unwanted interrupt.</dd></dl>
<h1><a class="anchor" id="SectionDT_MoreInfo"></a>
More Information</h1>
<p>For more information on the DT peripheral, refer to:<br />
 <a href="http://www.cypress.com/file/223041/download">FM0+ Peripheral Manual - Timer Subsystem TRM.pdf</a><br />
 <a href="http://www.cypress.com/file/222986/download">FM4 Peripheral Manual - Timer Subsystem TRM.pdf</a><br />
 The Peripheral Manual is divided into several subsystems. Click the link to see:<br />
 <a href="http://www.cypress.com/documentation/technical-reference-manuals/fm0-family-32-bit-arm-cortex-m0-microcontrollers">all FM0+ Family 32-Bit Microcontrollers Peripheral Manuals, and Errata Sheets</a><br />
 <a href="http://www.cypress.com/documentation/technical-reference-manuals/fm4-family-32-bit-arm-cortex-m4-microcontrollers">all FM4 Family 32-Bit Microcontrollers Peripheral Manuals, and Errata Sheets</a><br />
 </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group___group_d_t___macros"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___group_d_t___macros.html">Macros</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___group_d_t___functions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___group_d_t___functions.html">Functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___group_d_t___data_structures"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___group_d_t___data_structures.html">Data Structures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___group_d_t___types"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___group_d_t___types.html">Enumerated Types</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress Peripheral Driver Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
